<div class="container mx-auto px-4">
  <h1 class="text-3xl font-bold mb-6">User</h1>
  <div class="overflow-x-auto">
    <table class="w-full border-collapse">
      <thead class="bg-gray-100">
        <tr>
          <th class="px-4 py-2 text-left">ID</th>
          <th class="px-4 py-2 text-left">Full Name</th>
          <th class="px-4 py-2 text-left">Phone</th>
          <th class="px-4 py-2 text-left">Address</th>
          <th class="px-4 py-2 text-left">State</th>
          <th class="px-4 py-2 text-left">Role</th>
          <th class="px-4 py-2 text-left">Action</th>
        </tr>
      </thead>
      <tbody>
        @for(user of users; track user.id) {
        <tr class="hover:bg-gray-50">
          <td class="border px-4 py-2">{{ user.id }}</td>
          <td class="border px-4 py-2">{{ user.fullname }}</td>
          <td class="border px-4 py-2">{{ user.phone_number }}</td>
          <td class="border px-4 py-2">{{ user.address }}</td>
          <td class="border px-4 py-2">
            <span 
              class="px-2 py-1 rounded-full text-xs font-semibold"
              [ngClass]="user.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'"
            >
              {{ user.is_active ? 'Active' : 'Inactive' }}
            </span>
          </td>
          <td class="border px-4 py-2">{{ user.role.name }}</td>
          <td class="border px-4 py-2">
            <button 
              class="text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out"
              [ngClass]="user.is_active ? 'bg-red-500 hover:bg-red-700' : 'bg-green-500 hover:bg-green-700'"
              (click)="toggleUserStatus(user)"
            >
              <i class="fas fa-ban mr-2"></i>
              {{ user.is_active ? 'Block' : 'Unblock' }}
            </button>
            <button 
              class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded ml-2 transition duration-300 ease-in-out"
              (click)="resetPassword(user.id)"
            >
              Reset Password
            </button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>